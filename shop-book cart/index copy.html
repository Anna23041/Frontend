<!DOCTYPE html>
<html class="h-full" lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Simple Form Example</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="h-full bg-gray-100">
    <div class="bg-gray-100 h-full w-full flex flex-row">
      <div class="bg-gray-100 w-[75%] h-full">
        <h1 class="text-xl text-black font-bold p-3 ml-[100px]">
          üìö–ú–∞–≥–∞–∑–∏–Ω –∫–Ω–∏–≥
        </h1>
        <div class="flex flex-row justify-center">
          <div
            id="listBooks"
            class="bg-gray-100 flex flex-row w-[80%] flex-wrap justify-between justify-center"
          >
            <div
              id="cardBook"
              class="flex flex-col bg-white rounded-md w-[200px] h-[310px] m-5 mt-15 p-5 hidden"
            >
              <img
                id="imageBook"
                class="max-h-[150px] max-w-[150px] text-center"
                src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQh4e5JMJcOAZB3z-SN8PgREYAXw_WBIDLs7ffV3GOWESaUfgSAk-VQPMoL1GKBYTtMfB0&usqp=CAU"
                alt=""
              />
              <h1 id="nameBook" class="text-center font-medium text-black">
                Name book
              </h1>
              <p id="discriptionBook" class="text-center text-sm p-1">About</p>
              <p id="priceBookCard" class="text-center font-medium text-black">
                Price
              </p>
              <button
                id="favButton"
                class="bg-blue-800 text-white rounded-md p-2 w-full text-sm"
              >
                –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="bg-gray-100 w-[25%] h-full mt-5">
        <div class="w-[280px]">
          <div class="flex items-center mb-5 justify-end">
            <h1 id class="text-4xl">üõí</h1>
            <div>summ</div>
          </div>
        </div>
        <div
          id="favBooks"
          class="bg-white rounded-md w-[80%] pb-5 pl-5 pt-2 h-[500px]"
        >
          <h1 class="text-center mt-4 text-xl text-black font-bold">
            üõí–ö–æ—Ä–∑–∏–Ω–∞
          </h1>
          <ul id="listFavBooks"></ul>
          <button class="text-red-500 bg-white ml-3 mt-3" onclick="clearCart()">
            –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
          </button>
        </div>
      </div>
    </div>
    <script>
      let booksCart = [{ id: "1", title: "book", price: 1 }];

      function clearCart() {
        booksCart = [];
        renderBooksCart();
      }

      function renderBooksCart() {
        const favList = document.getElementById("listFavBooks");
        favList.textContent = "";
        booksCart.forEach((book) => {
          const bookItem = document.createElement("li");
          bookItem.textContent = book.title + " " + book.price + " euro";
          favList.appendChild(bookItem);
        });
      }

      const bookCard = document.getElementById("cardBook");
      fetch("http://localhost:3000/api/books")
        .then((r) => r.json())
        .then((list) => {
          console.log(list);
          list.forEach((element) => {
            const newCard = bookCard.cloneNode(true);
            newCard.classList.remove("hidden");
            const bookTitle = newCard.querySelector("#nameBook");
            bookTitle.textContent = element.title;
            const priceBook = newCard.querySelector("#priceBookCard");
            const listBook = document.getElementById("listBooks");
            priceBook.textContent = element.price + "‚Ç¨";
            const imageBook = newCard.querySelector("#imageBook");
            const paragraphBook = newCard.querySelector("#discriptionBook");
            const favButton = newCard.querySelector("#favButton");
            favButton.id = element.id;
            paragraphBook.textContent = element.author;
            imageBook.src = element.image;
            listBook.appendChild(newCard);
          });
        });
      renderBooksCart();
    </script>
  </body>
</html>

<!-- 
1. –≤–∏–∑—É–∞–ª
2. get —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —Ü–µ–Ω—ã –≤ –∫–∞—Ä—Ç–æ—á–∫–∏
3. –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏ –≤ –∫–æ—Ä–∑–∏–Ω—É (id, title, price)
4. —Å–æ–∑–¥–∞—Ç—å array object —Å–ø–∏—Å–æ–∫. –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏ –∏ –µ—ë —Ü–µ–Ω–∞
5. –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏ —É–¥–∞–ª–∏—Ç—å
6. —Å–¥–µ–ª–∞—Ç—å —Å—É–º–º—É —Ü–µ–Ω
7. —Å–¥–µ–ª–∞—Ç—å —Å—É–º–º—É —ç–ª–µ–º–µ–Ω—Ç–æ–≤
8.filter –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
9. local storage -->
